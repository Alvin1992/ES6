<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>block scope</title>
</head>
<body>
    <script>
        // 没有块级作用域的不合理场景
        // 1. 内层同名变量覆盖外层
        // 2. 用来计数的循环变量泄露为全局变量

        // let 实际上为js增加了块级作用域
        // 内层作用域可以定义外层作用域的同名变量

        /*function foo () {
            let n = 5;
            if (true) {
                let n = 10;
            }
            console.log(n);  // 5
        }
        foo()*/

        // 块级作用域可以任意嵌套
//        {{{{{let insane = 'Hello World'}}}}}

        // 外层作用域无法读取内层
        /*{{{{
            {let insane = 'Hello World'}
            console.log(insane); // 报错
        }}}}*/

        // 立即执行匿名函数（IIFE）不再必要了

        // ES6引入了块级作用域，明确允许在块级作用域之中声明函数
        // 并且ES6规定，块级作用域之中，函数声明语句的行为类似于let，在块级作用域之外不可引用

        // 应该避免在块级作用域内声明函数。如果确实需要，也应该写成函数表达式，而不是函数声明语句。
    </script>
</body>
</html>